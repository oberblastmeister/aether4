/*
(
 (kind (CompileAndRun))
 (emit (Asm))
)
*/

int main() {
  int x0 = 1;
  int x1 = x0+1;
  int x2 = x1+1;
  int x3 = x2+1;
  int x4 = x3+1;
  int x5 = x4+1;
  int x6 = x5+1;
  int x7 = x6+1;
  int x8 = x7+1;
  int x9 = x8+1;
  int xA = x9+1;
  int xB = xA+1;
  int xC = xB+1;
  int xD = xC+1;
  int xE = xD+1;
  int xF = xE+1;
  return
     x0+x1+x2+x3+x4+x5+x6+x7
    +x8+x9+xA+xB+xC+xD+xE+xF;	/* sum(i=1..16) = 136 */
}
----
asm
.text
.globl _c0_main
_c0_main:
    pushq %rbp # prologue
    movq %rsp, %rbp # prologue
    subq $112, %rsp # prologue
.Lstart_0:
    movq $1, %rax # 9:12
    movq %rax, %rdi # 9:7-9
    movq %rdi, %rcx # 9:7-9
    movq $1, %rax # 10:15
    movq %rcx, %r11 # 10:12-16
    addq %rax, %r11 # 10:12-16
    movq %r11, %rax # 10:12-16
    movq %rax, %rsi # 10:7-9
    movq %rsi, %rcx # 10:7-9
    movq $1, %rax # 11:15
    movq %rcx, %r11 # 11:12-16
    addq %rax, %r11 # 11:12-16
    movq %r11, %rax # 11:12-16
    movq %rax, %rax # 11:7-9
    movq %rax, -8(%rbp) # spill
    movq %rax, %rcx # 11:7-9
    movq $1, %rax # 12:15
    movq %rcx, %r11 # 12:12-16
    addq %rax, %r11 # 12:12-16
    movq %r11, %rax # 12:12-16
    movq %rax, %rax # 12:7-9
    movq %rax, -16(%rbp) # spill
    movq %rax, %rcx # 12:7-9
    movq $1, %rax # 13:15
    movq %rcx, %r11 # 13:12-16
    addq %rax, %r11 # 13:12-16
    movq %r11, %rax # 13:12-16
    movq %rax, %rax # 13:7-9
    movq %rax, -24(%rbp) # spill
    movq %rax, %rcx # 13:7-9
    movq $1, %rax # 14:15
    movq %rcx, %r11 # 14:12-16
    addq %rax, %r11 # 14:12-16
    movq %r11, %rax # 14:12-16
    movq %rax, %rax # 14:7-9
    movq %rax, -32(%rbp) # spill
    movq %rax, %rcx # 14:7-9
    movq $1, %rax # 15:15
    movq %rcx, %r11 # 15:12-16
    addq %rax, %r11 # 15:12-16
    movq %r11, %rax # 15:12-16
    movq %rax, %rax # 15:7-9
    movq %rax, -40(%rbp) # spill
    movq %rax, %rcx # 15:7-9
    movq $1, %rax # 16:15
    movq %rcx, %r11 # 16:12-16
    addq %rax, %r11 # 16:12-16
    movq %r11, %rax # 16:12-16
    movq %rax, %rax # 16:7-9
    movq %rax, -48(%rbp) # spill
    movq %rax, %rcx # 16:7-9
    movq $1, %rax # 17:15
    movq %rcx, %r11 # 17:12-16
    addq %rax, %r11 # 17:12-16
    movq %r11, %rax # 17:12-16
    movq %rax, %rax # 17:7-9
    movq %rax, -56(%rbp) # spill
    movq %rax, %rcx # 17:7-9
    movq $1, %rax # 18:15
    movq %rcx, %r11 # 18:12-16
    addq %rax, %r11 # 18:12-16
    movq %r11, %rax # 18:12-16
    movq %rax, %rax # 18:7-9
    movq %rax, -64(%rbp) # spill
    movq %rax, %rcx # 18:7-9
    movq $1, %rax # 19:15
    movq %rcx, %r11 # 19:12-16
    addq %rax, %r11 # 19:12-16
    movq %r11, %rax # 19:12-16
    movq %rax, %rax # 19:7-9
    movq %rax, -72(%rbp) # spill
    movq %rax, %rcx # 19:7-9
    movq $1, %rax # 20:15
    movq %rcx, %r11 # 20:12-16
    addq %rax, %r11 # 20:12-16
    movq %r11, %rax # 20:12-16
    movq %rax, %rax # 20:7-9
    movq %rax, -80(%rbp) # spill
    movq %rax, %rcx # 20:7-9
    movq $1, %rax # 21:15
    movq %rcx, %r11 # 21:12-16
    addq %rax, %r11 # 21:12-16
    movq %r11, %rax # 21:12-16
    movq %rax, %rax # 21:7-9
    movq %rax, -88(%rbp) # spill
    movq %rax, %rcx # 21:7-9
    movq $1, %rax # 22:15
    movq %rcx, %r11 # 22:12-16
    addq %rax, %r11 # 22:12-16
    movq %r11, %rax # 22:12-16
    movq %rax, %rax # 22:7-9
    movq %rax, -96(%rbp) # spill
    movq %rax, %rcx # 22:7-9
    movq $1, %rax # 23:15
    movq %rcx, %r11 # 23:12-16
    addq %rax, %r11 # 23:12-16
    movq %r11, %rax # 23:12-16
    movq %rax, %rax # 23:7-9
    movq %rax, -104(%rbp) # spill
    movq %rax, %rcx # 23:7-9
    movq $1, %rax # 24:15
    movq %rcx, %r11 # 24:12-16
    addq %rax, %r11 # 24:12-16
    movq %r11, %rax # 24:12-16
    movq %rax, %rdx # 24:7-9
    movq %rdi, %rcx # 9:7-9
    movq %rsi, %rax # 10:7-9
    movq %rcx, %r11 # 26:6-11
    addq %rax, %r11 # 26:6-11
    movq %r11, %rcx # 26:6-11
    movq -8(%rbp), %rax # (reload 11:7-9)
    movq %rax, %rax # 11:7-9
    movq %rcx, %r11 # 26:6-14
    addq %rax, %r11 # 26:6-14
    movq %r11, %rcx # 26:6-14
    movq -16(%rbp), %rax # (reload 12:7-9)
    movq %rax, %rax # 12:7-9
    movq %rcx, %r11 # 26:6-17
    addq %rax, %r11 # 26:6-17
    movq %r11, %rcx # 26:6-17
    movq -24(%rbp), %rax # (reload 13:7-9)
    movq %rax, %rax # 13:7-9
    movq %rcx, %r11 # 26:6-20
    addq %rax, %r11 # 26:6-20
    movq %r11, %rcx # 26:6-20
    movq -32(%rbp), %rax # (reload 14:7-9)
    movq %rax, %rax # 14:7-9
    movq %rcx, %r11 # 26:6-23
    addq %rax, %r11 # 26:6-23
    movq %r11, %rcx # 26:6-23
    movq -40(%rbp), %rax # (reload 15:7-9)
    movq %rax, %rax # 15:7-9
    movq %rcx, %r11 # 26:6-26
    addq %rax, %r11 # 26:6-26
    movq %r11, %rcx # 26:6-26
    movq -48(%rbp), %rax # (reload 16:7-9)
    movq %rax, %rax # 16:7-9
    movq %rcx, %r11 # 26:6-29
    addq %rax, %r11 # 26:6-29
    movq %r11, %rcx # 26:6-29
    movq -56(%rbp), %rax # (reload 17:7-9)
    movq %rax, %rax # 17:7-9
    movq %rcx, %r11 # [26,6]-[27,8]
    addq %rax, %r11 # [26,6]-[27,8]
    movq %r11, %rcx # [26,6]-[27,8]
    movq -64(%rbp), %rax # (reload 18:7-9)
    movq %rax, %rax # 18:7-9
    movq %rcx, %r11 # [26,6]-[27,11]
    addq %rax, %r11 # [26,6]-[27,11]
    movq %r11, %rcx # [26,6]-[27,11]
    movq -72(%rbp), %rax # (reload 19:7-9)
    movq %rax, %rax # 19:7-9
    movq %rcx, %r11 # [26,6]-[27,14]
    addq %rax, %r11 # [26,6]-[27,14]
    movq %r11, %rcx # [26,6]-[27,14]
    movq -80(%rbp), %rax # (reload 20:7-9)
    movq %rax, %rax # 20:7-9
    movq %rcx, %r11 # [26,6]-[27,17]
    addq %rax, %r11 # [26,6]-[27,17]
    movq %r11, %rcx # [26,6]-[27,17]
    movq -88(%rbp), %rax # (reload 21:7-9)
    movq %rax, %rax # 21:7-9
    movq %rcx, %r11 # [26,6]-[27,20]
    addq %rax, %r11 # [26,6]-[27,20]
    movq %r11, %rcx # [26,6]-[27,20]
    movq -96(%rbp), %rax # (reload 22:7-9)
    movq %rax, %rax # 22:7-9
    movq %rcx, %r11 # [26,6]-[27,23]
    addq %rax, %r11 # [26,6]-[27,23]
    movq %r11, %rcx # [26,6]-[27,23]
    movq -104(%rbp), %rax # (reload 23:7-9)
    movq %rax, %rax # 23:7-9
    movq %rcx, %r11 # [26,6]-[27,26]
    addq %rax, %r11 # [26,6]-[27,26]
    movq %r11, %rcx # [26,6]-[27,26]
    movq %rdx, %rax # 24:7-9
    movq %rcx, %r11 # [26,6]-[27,29]
    addq %rax, %r11 # [26,6]-[27,29]
    movq %r11, %rax # [26,6]-[27,29]
    movq %rax, %rax # [25,3]-[27,29]
    movq %rbp, %rsp # (epilogue [25,3]-[27,29])
    popq %rbp # (epilogue [25,3]-[27,29])
    ret # (epilogue [25,3]-[27,29])

136
